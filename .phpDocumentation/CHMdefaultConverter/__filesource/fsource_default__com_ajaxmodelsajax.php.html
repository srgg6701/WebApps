<!--
	IE 6 makes the page to wide with the following doctype. I accept
	standards if they help me, not if they make anything even harder!
//-->
<!--<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.0 Transitional//EN' 'http://www.w3.org/TR/REC-html40/loose.dtd'>//-->
<!--NewPage-->
<HTML>
<HEAD>
	<!-- Generated by PhpDoc date: 'Sun, 29 Jul 2012 11:23:55 +0400' -->
	<TITLE>File Source for ajax.php</TITLE>
<LINK REL ='stylesheet' TYPE='text/css' HREF='../media/stylesheet.css' TITLE='Style'>
</HEAD>
<BODY BGCOLOR='white'>
<a name="top"><!-- --></a><h1 align="center">Source for file ajax.php</h1>
<p>Documentation is available at <a href="../default/_com_ajax---models---ajax.php.html">ajax.php</a></p>
<pre><li><div class="src-line"><a name="a1"></a><strong>&lt;?</strong></div></li>
<li><div class="src-line"><a name="a2"></a><font color="green">//&nbsp;Передаем&nbsp;заголовки</font></div></li>
<li><div class="src-line"><a name="a3"></a><a href="http://www.php.net/header">header</a><strong>(</strong><font color="#66cccc">'Content-type:&nbsp;text/plain;&nbsp;charset=utf-8'</font><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a4"></a><a href="http://www.php.net/header">header</a><strong>(</strong><font color="#66cccc">'Cache-Control:&nbsp;no-store,&nbsp;no-cache'</font><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a5"></a><a href="http://www.php.net/header">header</a><strong>(</strong><font color="#66cccc">'Expires:&nbsp;'&nbsp;</font>.&nbsp;<a href="http://www.php.net/date">date</a><strong>(</strong><font color="#66cccc">'r'</font><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a6"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a7"></a><a href="http://www.php.net/defined">defined</a><strong>(</strong><font color="#66cccc">'_JEXEC'</font><strong>)&nbsp;</strong>or&nbsp;die<strong>(</strong><font color="#66cccc">'Restricted&nbsp;access'</font><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a8"></a><font color="blue">class&nbsp;</font><a href="../default/AjaxModelAjax.html">AjaxModelAjax</a>&nbsp;<font color="blue">extends&nbsp;</font>JModel</div></li>
<li><div class="src-line"><a name="a9"></a><strong>{&nbsp;&nbsp;&nbsp;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a10"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009999">/**</font></div></li>
<li><div class="src-line"><a name="a11"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Удаляет&nbsp;файлы</font></div></li>
<li><div class="src-line"><a name="a12"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font></div></li>
<li><div class="src-line"><a name="a13"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">function&nbsp;</font><a href="../default/AjaxModelAjax.html#methoddelete_file">delete_file</a><strong>(</strong><strong>$file_id</strong><strong>)</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a14"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if</font><strong>(</strong><strong>$table&nbsp;</strong>=&nbsp;JTable<strong>::</strong>getInstance<strong>(</strong><font color="#66cccc">'files_names'</font><strong>,&nbsp;</strong><font color="#66cccc">'Collector1Table'</font><strong>))</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a15"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$arrfile</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;.&quot;</font><strong>,</strong><strong>$file_id</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a16"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;array&nbsp;('s25',2,'doc')</font></div></li>
<li><div class="src-line"><a name="a17"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;delete&nbsp;first&nbsp;symbol&nbsp;(s/o)</font></div></li>
<li><div class="src-line"><a name="a18"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$object_id</strong>=(int)<a href="http://www.php.net/substr">substr</a><strong>(</strong><strong>$arrfile</strong><strong>[</strong>0<strong>]</strong><strong>,</strong>1<strong>)</strong><strong>;&nbsp;</strong><font color="green">//echo&nbsp;&quot;object_id=&nbsp;$object_id&lt;br&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a19"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;25</font></div></li>
<li><div class="src-line"><a name="a20"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$file_number</strong>=(int)<strong>$arrfile</strong><strong>[</strong>1<strong>]</strong><strong>;&nbsp;</strong><font color="green">//echo&nbsp;&quot;file_number=&nbsp;$file_number&lt;br&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a21"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;2</font></div></li>
<li><div class="src-line"><a name="a22"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$query_files</strong>=<font color="#66cccc">&quot;SELECT&nbsp;id,&nbsp;files_names&nbsp;FROM&nbsp;#__webapps_files_names&nbsp;WHERE&nbsp;SUBSTR(identifier,2)&nbsp;=&quot;</font>.<strong>$object_id</strong><strong>;&nbsp;</strong><font color="green">//&nbsp;25</font></div></li>
<li><div class="src-line"><a name="a23"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db</strong>=JFactory<strong>::</strong>getDBO<strong>(</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a24"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db</strong><strong>-&gt;</strong>setQuery<strong>(</strong><strong>$query_files</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a25"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$row</strong>=<strong>$db</strong><strong>-&gt;</strong>loadRow<strong>(</strong><strong>)</strong><strong>;&nbsp;</strong><font color="green">//var_dump(&quot;&lt;h1&gt;row:&lt;/h1&gt;&lt;pre&gt;&quot;,$row,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a26"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;if&nbsp;nubers&nbsp;of&nbsp;files&nbsp;&gt;&nbsp;1:</font></div></li>
<li><div class="src-line"><a name="a27"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$row</strong><strong>[</strong>1<strong>]</strong><strong>,</strong><font color="#66cccc">&quot;:&quot;</font><strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a28"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;$row[1]&nbsp;=&nbsp;25.2.&nbsp;My&nbsp;file&nbsp;name.doc:25.3.&nbsp;Your&nbsp;file.xlsx</font></div></li>
<li><div class="src-line"><a name="a29"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$file_name_whole_string</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;:&quot;</font><strong>,</strong><strong>$row</strong><strong>[</strong>1<strong>]</strong><strong>)</strong><strong>;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a30"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;array('2.&nbsp;My&nbsp;file&nbsp;name.doc','3.&nbsp;Your&nbsp;file.xlsx')</font></div></li>
<li><div class="src-line"><a name="a31"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">for</font><strong>(</strong><strong>$i</strong>=0<strong>,</strong><strong>$j</strong>=<a href="http://www.php.net/count">count</a><strong>(</strong><strong>$file_name_whole_string</strong><strong>)</strong><strong>;</strong><strong>$i</strong>&lt;<strong>$j</strong><strong>;</strong><strong>$i</strong>++<strong>)&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a32"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$parsedFileNameArray</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;.&quot;</font><strong>,</strong><strong>$file_name_whole_string</strong><strong>[</strong><strong>$i</strong><strong>]</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a33"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//array('2',',My&nbsp;file&nbsp;name','doc')</font></div></li>
<li><div class="src-line"><a name="a34"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;compare&nbsp;contents:&nbsp;$arrfile&nbsp;/&nbsp;$parsedFileNameArray</font></div></li>
<li><div class="src-line"><a name="a35"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(&nbsp;</strong>(int)<strong>$parsedFileNameArray</strong><strong>[</strong>0<strong>]</strong>==<strong>$file_number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong><font color="green">//&nbsp;int&nbsp;2</font></div></li>
<li><div class="src-line"><a name="a36"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;<a href="http://www.php.net/array_pop">array_pop</a><strong>(</strong><strong>$parsedFileNameArray</strong><strong>)</strong>==<a href="http://www.php.net/array_pop">array_pop</a><strong>(</strong><strong>$arrfile</strong><strong>)&nbsp;&nbsp;&nbsp;&nbsp;</strong><font color="green">//&nbsp;string&nbsp;doc</font></div></li>
<li><div class="src-line"><a name="a37"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>)&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a38"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;cut&nbsp;the&nbsp;file&nbsp;name&nbsp;from&nbsp;the&nbsp;field&nbsp;to&nbsp;update&nbsp;record:</font></div></li>
<li><div class="src-line"><a name="a39"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset<strong>(</strong><strong>$file_name_whole_string</strong><strong>[</strong><strong>$i</strong><strong>]</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a40"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a41"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a42"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;prepare&nbsp;string&nbsp;to&nbsp;update&nbsp;the&nbsp;record&nbsp;in&nbsp;the&nbsp;table:</font></div></li>
<li><div class="src-line"><a name="a43"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$files_names_set</strong>=<a href="http://www.php.net/implode">implode</a><strong>(</strong><font color="#66cccc">&quot;:&quot;</font><strong>,</strong><strong>$file_name_whole_string</strong><strong>)</strong><strong>;&nbsp;</strong><font color="green">//echo&nbsp;&quot;&lt;div&gt;files_names_set=&nbsp;$files_names_set&lt;/div&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a44"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//update:</font></div></li>
<li><div class="src-line"><a name="a45"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><strong>$table</strong><strong>-&gt;</strong>load<strong>(</strong><strong>$row</strong><strong>[</strong>0<strong>]</strong><strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a46"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$table</strong><strong>-&gt;</strong>set<strong>(</strong><font color="#66cccc">'files_names'</font><strong>,</strong><strong>$files_names_set</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a47"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><strong>$table</strong><strong>-&gt;</strong>check<strong>(</strong><strong>))&nbsp;</strong><strong>{&nbsp;</strong><font color="green">//var_dump(&quot;&lt;h1&gt;table:&lt;/h1&gt;&lt;pre&gt;&quot;,$table,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a48"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$table</strong><strong>-&gt;</strong>store<strong>(</strong>true<strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a49"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<font color="#66cccc">'ОШИБКА:&nbsp;Не&nbsp;сохранено&lt;hr&gt;'</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a50"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;<strong>(</strong><strong>$table</strong><strong>-&gt;</strong>getError<strong>(</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a51"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a52"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a53"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong>else<strong>{</strong></div></li>
<li><div class="src-line"><a name="a54"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<font color="#66cccc">'ОШИБКА:&nbsp;Не&nbsp;загружено&lt;hr&gt;'</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a55"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;<strong>(</strong><strong>$table</strong><strong>-&gt;</strong>getError<strong>(</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a56"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a57"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong>elseif&nbsp;<strong>(</strong><strong>!</strong><strong>$table</strong><strong>-&gt;</strong>delete<strong>(</strong><strong>$row</strong><strong>[</strong>0<strong>]</strong><strong>))</strong><strong>{&nbsp;</strong><font color="green">//delete&nbsp;the&nbsp;record&nbsp;at&nbsp;all</font></div></li>
<li><div class="src-line"><a name="a58"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<font color="#66cccc">'ОШИБКА:&nbsp;Не&nbsp;удалено&lt;hr&gt;'</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a59"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die<strong>(</strong><strong>$table</strong><strong>-&gt;</strong>getError<strong>(</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a60"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a61"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//удалить&nbsp;файл&nbsp;физически:</font></div></li>
<li><div class="src-line"><a name="a62"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;pattern:&nbsp;[s/o]object_id.file_id.extension</font></div></li>
<li><div class="src-line"><a name="a63"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><strong>!</strong><a href="http://www.php.net/unlink">unlink</a><strong>(</strong>JPATH_BASE.DS.<font color="#66cccc">'components'</font>.DS.<font color="#66cccc">'com_collector1'</font>.DS.<font color="#66cccc">'files'</font>.DS.<strong>$file_id</strong><strong>))&nbsp;</strong>die<strong>(</strong><font color="#66cccc">'ОШИБКА:&nbsp;Файл&nbsp;не&nbsp;удалён!'</font><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a64"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;1<strong>;</strong></div></li>
<li><div class="src-line"><a name="a65"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a66"></a>&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a67"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009999">/**</font></div></li>
<li><div class="src-line"><a name="a68"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Удаляет&nbsp;компонент&nbsp;из&nbsp;набора&nbsp;заказа</font></div></li>
<li><div class="src-line"><a name="a69"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font></div></li>
<li><div class="src-line"><a name="a70"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">function&nbsp;</font><a href="../default/AjaxModelAjax.html#methoddelete_component">delete_component</a><strong>(</strong><strong>$component_id</strong><strong>)</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a71"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if</font><strong>(</strong><strong>$table&nbsp;</strong>=&nbsp;JTable<strong>::</strong>getInstance<strong>(</strong><font color="#66cccc">'customer_orders'</font><strong>,&nbsp;</strong><font color="#66cccc">'Collector1Table'</font><strong>))</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a72"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$arr_component</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;.&quot;</font><strong>,</strong><strong>$component_id</strong><strong>)</strong><strong>;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a73"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;array&nbsp;('s25',2,'doc')</font></div></li>
<li><div class="src-line"><a name="a74"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;delete&nbsp;first&nbsp;symbol&nbsp;(s/o)</font></div></li>
<li><div class="src-line"><a name="a75"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$order_id</strong>=(int)<strong>$arr_component</strong><strong>[</strong>0<strong>]</strong><strong>;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a76"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;25</font></div></li>
<li><div class="src-line"><a name="a77"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$component_index</strong>=(int)<strong>$arr_component</strong><strong>[</strong>1<strong>]</strong><strong>;&nbsp;</strong><font color="green">//echo&nbsp;&quot;component_index=&nbsp;$component_index&lt;br&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a78"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;2</font></div></li>
<li><div class="src-line"><a name="a79"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$query_files</strong>=<font color="#66cccc">&quot;SELECT&nbsp;components_names&nbsp;FROM&nbsp;dnior_webapps_customer_orders&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;&quot;</font>.<strong>$order_id</strong><strong>;&nbsp;</strong><font color="green">//&nbsp;25</font></div></li>
<li><div class="src-line"><a name="a80"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db</strong>=JFactory<strong>::</strong>getDBO<strong>(</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a81"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db</strong><strong>-&gt;</strong>setQuery<strong>(</strong><strong>$query_files</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a82"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;get&nbsp;components&nbsp;set:</font></div></li>
<li><div class="src-line"><a name="a83"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$components_set</strong>=<strong>$db</strong><strong>-&gt;</strong>loadResult<strong>(</strong><strong>)</strong><strong>;&nbsp;</strong><font color="green">//var_dump(&quot;&lt;h1&gt;components_set:&lt;/h1&gt;&lt;pre&gt;&quot;,$components_set,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a84"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;if&nbsp;nubers&nbsp;of&nbsp;files&nbsp;&gt;&nbsp;1:</font></div></li>
<li><div class="src-line"><a name="a85"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><a href="http://www.php.net/strstr">strstr</a><strong>(</strong><strong>$components_set</strong><strong>,</strong><font color="#66cccc">&quot;|&quot;</font><strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a86"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//&nbsp;</font></div></li>
<li><div class="src-line"><a name="a87"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$arr_components</strong>=<a href="http://www.php.net/explode">explode</a><strong>(</strong><font color="#66cccc">&quot;|&quot;</font><strong>,</strong><strong>$components_set</strong><strong>)</strong><strong>;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a88"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset<strong>(</strong><strong>$arr_components</strong><strong>[</strong><strong>$component_index</strong>-1<strong>]</strong><strong>)</strong><strong>;&nbsp;</strong><font color="green">//&nbsp;т.к.&nbsp;для&nbsp;наглядности&nbsp;передаём&nbsp;номер&nbsp;компонента,&nbsp;начиная&nbsp;с&nbsp;1,&nbsp;а&nbsp;не&nbsp;с&nbsp;0</font></div></li>
<li><div class="src-line"><a name="a89"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//update:</font></div></li>
<li><div class="src-line"><a name="a90"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><strong>$table</strong><strong>-&gt;</strong>load<strong>(</strong><strong>$order_id</strong><strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a91"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$table</strong><strong>-&gt;</strong>set<strong>(</strong><font color="#66cccc">'components_names'</font><strong>,</strong><a href="http://www.php.net/implode">implode</a><strong>(</strong><font color="#66cccc">&quot;|&quot;</font><strong>,</strong><strong>$arr_components</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a92"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if&nbsp;</font><strong>(</strong><strong>$table</strong><strong>-&gt;</strong>check<strong>(</strong><strong>))&nbsp;</strong><strong>{&nbsp;</strong><font color="green">//var_dump(&quot;&lt;h1&gt;table:&lt;/h1&gt;&lt;pre&gt;&quot;,$table,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a93"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">if</font><strong>(</strong><strong>!</strong><strong>$table</strong><strong>-&gt;</strong>store<strong>(</strong>true<strong>))&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a94"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<font color="#66cccc">'ОШИБКА:&nbsp;Не&nbsp;сохранено&lt;hr&gt;'</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a95"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;<strong>(</strong><strong>$table</strong><strong>-&gt;</strong>getError<strong>(</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a96"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a97"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a98"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong>else<strong>{</strong></div></li>
<li><div class="src-line"><a name="a99"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<font color="#66cccc">'ОШИБКА:&nbsp;Не&nbsp;загружено&lt;hr&gt;'</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a100"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die&nbsp;<strong>(</strong><strong>$table</strong><strong>-&gt;</strong>getError<strong>(</strong><strong>))</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a101"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a102"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}&nbsp;&nbsp;&nbsp;&nbsp;</strong>echo&nbsp;1<strong>;</strong></div></li>
<li><div class="src-line"><a name="a103"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a104"></a>&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a105"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#009999">/**</font></div></li>
<li><div class="src-line"><a name="a106"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Удаляет&nbsp;компонент&nbsp;из&nbsp;набора&nbsp;заказа</font></div></li>
<li><div class="src-line"><a name="a107"></a><font color="#009999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font></div></li>
<li><div class="src-line"><a name="a108"></a>&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">function&nbsp;</font><a href="../default/AjaxModelAjax.html#methodfindContactData">findContactData</a><strong>(</strong><strong>$email</strong><strong>,</strong><strong>$table</strong>=<font color="#66cccc">'webapps_precustomers'</font><strong>)&nbsp;</strong><strong>{</strong></div></li>
<li><div class="src-line"><a name="a109"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$query</strong>=<font color="#66cccc">&quot;SELECT&nbsp;`name`,&nbsp;`phone`,&nbsp;`skype`&nbsp;FROM&nbsp;#__&quot;</font>.<strong>$table</strong>.<font color="#66cccc">&quot;</font><font color="#66cccc">&nbsp;WHERE&nbsp;`email`&nbsp;=&nbsp;'<strong>$email</strong>'</font><font color="#66cccc">&quot;</font><strong>;</strong></div></li>
<li><div class="src-line"><a name="a110"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db&nbsp;</strong>=&nbsp;JFactory<strong>::</strong>getDBO<strong>(</strong><strong>)</strong><strong>;&nbsp;</strong><font color="green">//echo&nbsp;&quot;&lt;div&nbsp;class=''&gt;query=&nbsp;&quot;.$query.&quot;&lt;/div&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a111"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$db</strong><strong>-&gt;</strong>setQuery<strong>(</strong><strong>$query</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a112"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>$data</strong>=<strong>$db</strong><strong>-&gt;</strong>loadRow<strong>(</strong><strong>)</strong><strong>;&nbsp;</strong></div></li>
<li><div class="src-line"><a name="a113"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//var_dump(&quot;&lt;h1&gt;data:&lt;/h1&gt;&lt;pre&gt;&quot;,$data,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a114"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//$data2=array('name',&nbsp;'phone',&nbsp;'skype');</font></div></li>
<li><div class="src-line"><a name="a115"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//var_dump(&quot;&lt;h1&gt;data2:&lt;/h1&gt;&lt;pre&gt;&quot;,$data2,&quot;&lt;/pre&gt;&quot;);</font></div></li>
<li><div class="src-line"><a name="a116"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//echo&nbsp;&quot;&lt;hr&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a117"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//echo&nbsp;json_encode($data);</font></div></li>
<li><div class="src-line"><a name="a118"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//echo&nbsp;&quot;&lt;br&gt;&quot;;</font></div></li>
<li><div class="src-line"><a name="a119"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="green">//echo&nbsp;json_encode($data);</font></div></li>
<li><div class="src-line"><a name="a120"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<a href="http://www.php.net/implode">implode</a><strong>(</strong><font color="#66cccc">&quot;|&quot;</font><strong>,</strong><strong>$data</strong><strong>)</strong><strong>;</strong></div></li>
<li><div class="src-line"><a name="a121"></a>&nbsp;&nbsp;&nbsp;&nbsp;<strong>}</strong></div></li>
<li><div class="src-line"><a name="a122"></a><strong>}</strong><strong>?&gt;</strong></div></li>
</pre>
	<div id="credit">
		<hr>
		Documentation generated on Sun, 29 Jul 2012 11:23:55 +0400 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</div>
</body>
</html>